<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

  <link rel="stylesheet" href="theme.css" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/plugins/line-numbers/prism-line-numbers.css">

  <title>Structure Guide and Markdown Essentials</title>

  <script type="text/javascript">
    // modified version of dom-confetti.
    // (adds initialPosition to physics/config option)
    const defaultColors = ["#a864fd", "#29cdff", "#78ff44", "#ff718d", "#fdff6a"];
    function createElements(root, elementCount, colors, width, height) { return Array.from({ length: elementCount }).map((_, index) => { const element = document.createElement("div"); const color = colors[index % colors.length]; element.style["background-color"] = color; element.style.width = width; element.style.height = height; element.style.position = "absolute"; element.style.willChange = "transform, opacity"; element.style.visibility = "hidden"; root.appendChild(element); return element; }); }
    function randomPhysics(initialPosition, angle, spread, startVelocity, random) { const radAngle = angle * (Math.PI / 180); const radSpread = spread * (Math.PI / 180); return { x: initialPosition.x, y: initialPosition.y, z: initialPosition.z, wobble: random() * 10, wobbleSpeed: 0.1 + random() * 0.1, velocity: startVelocity * 0.5 + random() * startVelocity, angle2D: -radAngle + (0.5 * radSpread - random() * radSpread), angle3D: -(Math.PI / 4) + random() * (Math.PI / 2), tiltAngle: random() * Math.PI, tiltAngleSpeed: 0.1 + random() * 0.3 }; }
    function updateFetti(fetti, progress, dragFriction, decay) { fetti.physics.x += Math.cos(fetti.physics.angle2D) * fetti.physics.velocity; fetti.physics.y += Math.sin(fetti.physics.angle2D) * fetti.physics.velocity; fetti.physics.z += Math.sin(fetti.physics.angle3D) * fetti.physics.velocity; fetti.physics.wobble += fetti.physics.wobbleSpeed; if (decay) { fetti.physics.velocity *= decay; } else { fetti.physics.velocity -= fetti.physics.velocity * dragFriction; } fetti.physics.y += 3; fetti.physics.tiltAngle += fetti.physics.tiltAngleSpeed; const { x, y, z, tiltAngle, wobble } = fetti.physics; const wobbleX = x + 10 * Math.cos(wobble); const wobbleY = y + 10 * Math.sin(wobble); const transform = `translate3d(${wobbleX}px, ${wobbleY}px, ${z}px) rotate3d(1, 1, 1, ${tiltAngle}rad)`; fetti.element.style.visibility = "visible"; fetti.element.style.transform = transform; fetti.element.style.opacity = 1 - progress; }
    function animate(root, fettis, dragFriction, decay, duration, stagger) { let startTime; return new Promise(resolve => { function update(time) { if (!startTime) startTime = time; const elapsed = time - startTime; const progress = startTime === time ? 0 : (time - startTime) / duration; fettis.slice(0, Math.ceil(elapsed / stagger)).forEach(fetti => { updateFetti(fetti, progress, dragFriction, decay); }); if (time - startTime < duration) { requestAnimationFrame(update); } else { fettis.forEach(fetti => { if (fetti.element.parentNode === root) { return root.removeChild(fetti.element); } }); resolve(); } } requestAnimationFrame(update); }); }

    const defaults = { angle: 90, spread: 45, startVelocity: 45, elementCount: 50, width: "10px", height: "10px", perspective: "", colors: defaultColors, duration: 3000, stagger: 0, dragFriction: 0.1, random: Math.random, initialPosition: { x: 0, y: 0, z: 0 }, };
    function backwardPatch(config) { if (!config.stagger && config.delay) { config.stagger = config.delay; } return config; }
    function confetti(root, config = {}) { const { elementCount, colors, width, height, perspective, angle, spread, startVelocity, decay, dragFriction, duration, stagger, random, initialPosition, } = Object.assign({}, defaults, backwardPatch(config)); root.style.perspective = perspective; const elements = createElements(root, elementCount, colors, width, height); const fettis = elements.map(element => ({ element, physics: randomPhysics(initialPosition, angle, spread, startVelocity, random) })); return animate(root, fettis, dragFriction, decay, duration, stagger); }
  </script>

</head>
<body class="line-numbers has-preview-true is-overview-false">

  <aside>
      <div class="section is-overview-true">
        <div class="info">
          <div class="thumbnail"  style="background-image: url(https://images.unsplash.com/photo-1586282023338-52aa50a846ba?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwyOTAwNTh8MHwxfHNlYXJjaHwxfHx0dXRvcmlhbHxlbnwwfHx8fDE2NDE5MDk4NDU&amp;ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;w&#x3D;1080); background-color: transparent;" >
            <div class="ifont ifont-lrn_icon_finish"></div>
          </div>
          <div class="data">
            <small>
               Project 
            </small>
            <a href="index.html">Making your own structured tutorial with &#x60;tutomd&#x60;</a>
          </div>
        </div>
      </div>
      <div class="section is-overview-false">
        <div class="info">
          <div class="thumbnail"  style="background-image: url(https://images.unsplash.com/photo-1586282023338-52aa50a846ba?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwyOTAwNTh8MHwxfHNlYXJjaHwxfHx0dXRvcmlhbHxlbnwwfHx8fDE2NDE5MDk4NDU&amp;ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;w&#x3D;1080); background-color: transparent;" >
            <div class="ifont ifont-lrn_icon_finish"></div>
          </div>
          <div class="data">
            <small>
               Tutorial 
            </small>
            <a href="1-what-to-expect.html">What is &#x60;tutomd&#x60; and what to expect from it?</a>
          </div>
        </div>
            <ul>
            </ul>
      </div>
      <div class="section is-overview-false">
        <div class="info">
          <div class="thumbnail"  style="background-image: url(https://images.unsplash.com/photo-1619410283995-43d9134e7656?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwyOTAwNTh8MHwxfHNlYXJjaHwxfHxub2RlanN8ZW58MHx8fHwxNjQxOTA5ODQ1&amp;ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;w&#x3D;1080); background-color: transparent;" >
            <div class="ifont ifont-lrn_icon_finish"></div>
          </div>
          <div class="data">
            <small>
               Tutorial 
            </small>
            <a href="2-installing-tutomd.html">Installing &#x60;tutomd&#x60;</a>
          </div>
        </div>
            <ul>
            </ul>
      </div>
      <div class="section current is-overview-false">
        <div class="info">
          <div class="thumbnail"  style="background-image: url(https://images.unsplash.com/photo-1493476523860-a6de6ce1b0c3?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwyOTAwNTh8MHwxfHNlYXJjaHwxfHxzdHJ1Y3R1cmV8ZW58MHx8fHwxNjQxOTI0MzM2&amp;ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;w&#x3D;1080); background-color: transparent;" >
            <div class="ifont ifont-lrn_icon_finish"></div>
          </div>
          <div class="data">
            <small>
               Tutorial 
            </small>
            <a href="3-markdown-structure.html">Structure Guide and Markdown Essentials</a>
          </div>
        </div>
            <ul>
                <li><a href="#markdown-essentials"><span class="num">1</span><span class="text">Markdown Essentials</span></a></li>
                <li><a href="#sidebar-rules"><span class="num">2</span><span class="text">Sidebar Rules</span></a></li>
                <li><a href="#formatting-the-article"><span class="num">3</span><span class="text">Formatting the article</span></a></li>
                <li><a href="#generating-the-.html-files-from-the-command-line"><span class="num">4</span><span class="text">Generating the &#x60;.html&#x60; files from the command-line</span></a></li>
                <li><a href="#example"><span class="num">5</span><span class="text">Example</span></a></li>
                <li><a href="#questions-or-ideas"><span class="num">6</span><span class="text">Questions or Ideas</span></a></li>
            </ul>
      </div>
  </aside>

  <main id="summary">
    <div class="progress-bar-container">
      <div class="progress"></div>
    </div>

    <header style="background-image: url(https://images.unsplash.com/photo-1493476523860-a6de6ce1b0c3?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwyOTAwNTh8MHwxfHNlYXJjaHwxfHxzdHJ1Y3R1cmV8ZW58MHx8fHwxNjQxOTI0MzM2&amp;ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;w&#x3D;1080)">
      <div class="backdrop">
      </div>
    </header>


        <section class=" summary ">
          <div class="centered-content">
            <div class="summary-header">
                <img src="https://images.unsplash.com/photo-1493476523860-a6de6ce1b0c3?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwyOTAwNTh8MHwxfHNlYXJjaHwxfHxzdHJ1Y3R1cmV8ZW58MHx8fHwxNjQxOTI0MzM2&amp;ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;w&#x3D;1080" />
              <small><span class="ifont ifont-filled-calendar"></span> January 11, 2022</small>
              <small><span class="ifont ifont-filled-time"></span> 2 minutes</small>
            </div>

            <h1 id="structure-guide-and-markdown-essentials" tabindex="-1">Structure Guide and Markdown Essentials</h1>
<p>The <code>tutomd</code> tool processes Markdown and transforms it to HTML.</p>
<p>Here you will learn:</p>
<ul>
<li>Essential Markdown tags</li>
<li>Recommended text and file structure for best output</li>
</ul>


          </div>
        </section>


        <section class=" step ">
          <div class="centered-content">

            <h1 id="markdown-essentials" tabindex="-1">1. Markdown Essentials</h1>
<table>
<thead>
<tr>
<th>Element</th>
<th>Markdown Syntax</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p>Heading</p>
</td>
<td>
<pre><code># H1
## H2
### H3
</code></pre>
</td>
</tr>
<tr>
<td>
<p>Bold</p>
</td>
<td>
<pre><code>**bold text**
</code></pre>
</td>
</tr>
<tr>
<td>
<p>Italic</p>
</td>
<td>
<pre><code>*italic text*
</code></pre>
</td>
</tr>
<tr>
<td>
<p>Blockquote</p>
</td>
<td>
<pre><code>&gt; blockquote
</code></pre>
</td>
</tr>
<tr>
<td>
<p>Ordered list</p>
</td>
<td>
<pre><code>1. First item
2. Second item
3. Third item
</code></pre>
</td>
</tr>
<tr>
<td>
<p>Unordered list</p>
</td>
<td>
<pre><code>- First item
- Second item
- Third item
</code></pre>
</td>
</tr>
<tr>
<td>
<p>Code</p>
</td>
<td>
<pre><code>```
Code
```
</code></pre>
</td>
</tr>
<tr>
<td>
<p>Horizontal rule</p>
</td>
<td>
<pre><code>---
</code></pre>
</td>
</tr>
<tr>
<td>
<p>Link</p>
</td>
<td>
<pre><code>[title](https://www.example.com)
</code></pre>
</td>
</tr>
<tr>
<td>
<p>Image</p>
</td>
<td>
<pre><code>![alt text](image.jpg)
</code></pre>
</td>
</tr>
</tbody>
</table>
<p><a href="https://www.markdownguide.org/cheat-sheet/">Read more about the Markdown syntax.</a></p>
<h2 id="using-html" tabindex="-1">Using HTML</h2>
<p>HTML is supported inside Markdown. You may add any HTML tag you‚Äôd like, such as YouTube iframes:</p>
<pre><code class="language-html">&lt;iframe width=&quot;100%&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/moduMHp7TKQ&quot; title=&quot;YouTube video player&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen&gt;&lt;/iframe&gt;
</code></pre>
<p><strong>Result:</strong></p>
<iframe width="100%" height="315" src="https://www.youtube.com/embed/moduMHp7TKQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


            <input type="checkbox" id="complete-markdown-essentials" name="markdown-essentials" />
            <div>
              <label class="button" for="complete-markdown-essentials">
                <span class="unchecked">Mark step as completed <div class="ifont ifont-lrn_icon_finish"></div></span>
                <span class="checked">Mark step as incomplete</span>
              </label>

              <div class="completion ifont ifont-lrn_icon_finish"></div>
            </div>
          </div>
        </section>

            <div class="step-separator"></div>

        <section class=" step ">
          <div class="centered-content">

            <h1 id="sidebar-rules" tabindex="-1">2. Sidebar Rules</h1>
<p>It is important to follow these rules when defining your tutorial:</p>
<ul>
<li>Each Markdown file (<code>.md</code>) represents an article, and an item on the left sidebar.</li>
<li>The order of the articles are defined by their file names</li>
<li>Each <code>.md</code> file is turned into a <code>.html</code> file.</li>
</ul>
<p><img src="3-directory-structure.png" alt="Directory Structure"></p>
<h2 id="the-article-header-image" tabindex="-1">The article header image</h2>
<p>An image is optional for each article. You may define it in 3 different ways:</p>
<ul>
<li><strong>By filename</strong>: You may provide a <code>.png</code> image with the same name as the <code>.md</code> file (e.g.: <code>&quot;01-article.md&quot;</code> + <code>&quot;01-article.png&quot;</code>)</li>
<li><strong>By markdown image tag</strong>: You may use the markdown image tag to provide a custom image: <code>![](custom-image.png)</code></li>
<li><strong>By using a special ‚Äúsearch‚Äù tag on image</strong>: You may automatically search for a <a href="http://unsplash.com">unsplash.com</a> image. See next section!</li>
</ul>
<h2 id="using-unsplash.com-to-automatically-search-for-a-header-image" tabindex="-1">Using <a href="http://unsplash.com">unsplash.com</a> to automatically search for a header image</h2>
<p>You will need an account on <a href="http://unsplash.com">unsplash.com</a>, and a developer ‚ÄúAccess Key‚Äù in order to use this feature.</p>
<ol>
<li>Go to <a href="http://unsplash.com/developers">unsplash.com/developers</a> and register as developer.</li>
<li>Use the <code>--unsplash-access-key YOUR_ACCESS_KEY_HERE</code> option with your access key.</li>
<li>Use a special image tag to search for an image: <code>![](search:your search term here)</code></li>
</ol>
<p>Voila!</p>


            <input type="checkbox" id="complete-sidebar-rules" name="sidebar-rules" />
            <div>
              <label class="button" for="complete-sidebar-rules">
                <span class="unchecked">Mark step as completed <div class="ifont ifont-lrn_icon_finish"></div></span>
                <span class="checked">Mark step as incomplete</span>
              </label>

              <div class="completion ifont ifont-lrn_icon_finish"></div>
            </div>
          </div>
        </section>

            <div class="step-separator"></div>

        <section class=" step ">
          <div class="centered-content">

            <h1 id="formatting-the-article" tabindex="-1">3. Formatting the article</h1>
<p>As you‚Äôve seen on <a href="1-what-to-expect.html">What to expect</a>, an article has a summary, and an unlimited amount of step sections.</p>
<p>The first title (<code># h1</code>) is going to be the summary.</p>
<pre><code class="language-markdown"># Title of the article

This content is going to be on the summary.
</code></pre>
<p>Following titles (<code># h1</code>) are going to be formatted as steps.</p>
<pre><code class="language-markdown"># Title of the article

This content is going to be on the summary.

# This is the first step

Contents of the first step

# This is the second step

Contents of the second step
</code></pre>


            <input type="checkbox" id="complete-formatting-the-article" name="formatting-the-article" />
            <div>
              <label class="button" for="complete-formatting-the-article">
                <span class="unchecked">Mark step as completed <div class="ifont ifont-lrn_icon_finish"></div></span>
                <span class="checked">Mark step as incomplete</span>
              </label>

              <div class="completion ifont ifont-lrn_icon_finish"></div>
            </div>
          </div>
        </section>

            <div class="step-separator"></div>

        <section class=" step ">
          <div class="centered-content">

            <h1 id="generating-the-.html-files-from-the-command-line" tabindex="-1">Generating the <code>.html</code> files from the command-line</h1>
<p>Now, we‚Äôre going to use the <code>tutomd</code> from the command-line in order to convert our <code>.md</code> files into <code>.html</code>.</p>
<pre><code>tutomd generate ./path/to/markdown/* --out html
</code></pre>
<p>You should see an output that looks like this:</p>
<pre><code>Copying from tutorial/3-directory-structure.png to /Users/endel/Projects/tutomd/html/3-directory-structure.png
Write /Users/endel/Projects/tutomd/html/index.html
Write /Users/endel/Projects/tutomd/html/1-what-to-expect.html
Write /Users/endel/Projects/tutomd/html/2-installing-tutomd.html
Write /Users/endel/Projects/tutomd/html/3-markdown-structure.html
Write /Users/endel/Projects/tutomd/html/theme.css
</code></pre>


            <input type="checkbox" id="complete-generating-the-.html-files-from-the-command-line" name="generating-the-.html-files-from-the-command-line" />
            <div>
              <label class="button" for="complete-generating-the-.html-files-from-the-command-line">
                <span class="unchecked">Mark step as completed <div class="ifont ifont-lrn_icon_finish"></div></span>
                <span class="checked">Mark step as incomplete</span>
              </label>

              <div class="completion ifont ifont-lrn_icon_finish"></div>
            </div>
          </div>
        </section>

            <div class="step-separator"></div>

        <section class=" step ">
          <div class="centered-content">

            <h1 id="example" tabindex="-1">5. Example</h1>
<p>See the source-code of this tutorial <a href="https://github.com/endel/tutomd/tree/master/tutorial">here</a>.</p>


            <input type="checkbox" id="complete-example" name="example" />
            <div>
              <label class="button" for="complete-example">
                <span class="unchecked">Mark step as completed <div class="ifont ifont-lrn_icon_finish"></div></span>
                <span class="checked">Mark step as incomplete</span>
              </label>

              <div class="completion ifont ifont-lrn_icon_finish"></div>
            </div>
          </div>
        </section>

            <div class="step-separator"></div>

        <section class=" step ">
          <div class="centered-content">

            <h1 id="questions-or-ideas" tabindex="-1">6. Questions or Ideas</h1>
<p>This project is open-source and is available at <a href="https://github.com/endel/tutomd">endel/tutomd</a>. Feel free to create a PR and/or interact on GitHub issues.</p>


            <input type="checkbox" id="complete-questions-or-ideas" name="questions-or-ideas" />
            <div>
              <label class="button" for="complete-questions-or-ideas">
                <span class="unchecked">Mark step as completed <div class="ifont ifont-lrn_icon_finish"></div></span>
                <span class="checked">Mark step as incomplete</span>
              </label>

              <div class="completion ifont ifont-lrn_icon_finish"></div>
            </div>
          </div>
        </section>



      <div class="step-separator"></div>

      <section class="step final">
        <div class="centered-content">
          <p><small>Finished 3 of 3:</small></p>
          <h3>Structure Guide and Markdown Essentials</h3>

            <p><small>Congratulations, you've made it!</small></p>

            <p>üëèüëèüëè</p>
        </div>
      </section>


  </main>

  <a href="#summary" class="back-to-top">
    <div class="ifont ifont-icons-jump-to-top"></div>
  </a>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-core.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/plugins/autoloader/prism-autoloader.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/plugins/line-numbers/prism-line-numbers.js"></script>

  <script type="text/javascript">
    //
    // Scroll to top
    //
    const backToTopEl = document.querySelector(".back-to-top");
    backToTopEl.addEventListener("click", (e) => {
      e.preventDefault();
      window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });
    });

    //
    // Step completion: Scroll animation for next step
    //
    const main = document.querySelector('main');
    const stepSections = document.querySelectorAll('.step');
    const sidebarItems = document.querySelectorAll('aside ul li');
    const sidebarSections = document.querySelectorAll('aside .section');
    const completionCheckboxes = document.querySelectorAll('.step input[type="checkbox"]');
    const currentSidebarSection = Array.from(sidebarSections).findIndex((section) => section.classList.contains("current"));

    //
    // check for previously completed sections on the sidebar
    //
    const sidebar = [];
        sidebar.push("1-what-to-expect");
        if (JSON.parse(localStorage.getItem("1-what-to-expect") || "{}").completed) {
          sidebarSections[1].classList.add("complete");
        }
        sidebar.push("2-installing-tutomd");
        if (JSON.parse(localStorage.getItem("2-installing-tutomd") || "{}").completed) {
          sidebarSections[2].classList.add("complete");
        }
        sidebar.push("3-markdown-structure");
        if (JSON.parse(localStorage.getItem("3-markdown-structure") || "{}").completed) {
          sidebarSections[3].classList.add("complete");
        }

    let allowScroll = true; // FIXME: this is too ugly...

    const completionCacheKey = "3-markdown-structure";
    let cachedCompletionStatus = JSON.parse(localStorage.getItem(completionCacheKey) || "{}");

    const isAllLocalStepsComplete = () => Array.from(sidebarItems).every((_, i) => cachedCompletionStatus[i]);
    const isAllComplete = () => sidebar.every((filename) => JSON.parse(localStorage.getItem(filename) || "{}").completed);

    const cacheCompletion = () => {
      const previousCompletionStatus = cachedCompletionStatus.completed;
      cachedCompletionStatus.completed = isAllLocalStepsComplete();
      if (previousCompletionStatus !== cachedCompletionStatus.completed) {
        if (cachedCompletionStatus.completed) {
          sidebarSections[currentSidebarSection].classList.add("complete");
        } else {
          sidebarSections[currentSidebarSection].classList.remove("complete");
        }
      }
      localStorage.setItem(completionCacheKey, JSON.stringify(cachedCompletionStatus));
    };

    completionCheckboxes.forEach((checkbox, i) => {
      // Flag sidebar as checked
      checkbox.addEventListener("change", (event) => {
        if (checkbox.checked) {
          sidebarItems[i].classList.add("completed");

        } else {
          sidebarItems[i].classList.remove("completed");
        }
      });

      // Initial checked state from cached value
      if (cachedCompletionStatus[i]) {
        checkbox.checked = true;
        checkbox.dispatchEvent(new Event("change"));
      }

      checkbox.addEventListener("change", (event) => {
        const checked = checkbox.checked;

        cachedCompletionStatus[i] = checked;
        cacheCompletion();

        // if all are complete, trigger confetti animation
        if (isAllComplete()) {
          const button = stepSections[i].querySelector(".button");
          confetti(button, {
            initialPosition: {
              x: button.offsetWidth / 2,
              y: 0,
              z: 0,
            }
          });
          return;
        }

        // query for a next step/section that is not yet complete
        const nextSection = Array
          .from(stepSections)
          .find((section, j) => {
            return (
              (j > i) &&
              !stepSections[j].querySelector('input[type="checkbox"]:checked')
            );
          });
        if (allowScroll && checked && nextSection) {
          window.scrollTo({
            top: nextSection.offsetTop - 50,
            left: 0,
            behavior: 'smooth'
          });
        }
      });

      //
      // Mark all as complete & continue
      //
      const markAllCompleteButton = document.querySelector('.step.final .button');
      if (markAllCompleteButton) {
        markAllCompleteButton.addEventListener("click", (event) => {
          allowScroll = false;
          completionCheckboxes.forEach((checkbox) => {
            if (!checkbox.checked) {
              checkbox.checked = true;
              checkbox.dispatchEvent(new Event("change"));
            }
          });
        });
      }
    });

      // Reading progress/scroll
      const progressBarEl = document.querySelector(".progress-bar-container .progress");
      const startScrollY = stepSections[0].getBoundingClientRect().top + window.scrollY - 100; // `window.scrollY` here is to compensate if page starts with scrollY > 0

      // Only calculate content height after DOM content is fully loaded.
      let contentHeight = 0;
      document.addEventListener("DOMContentLoaded", () => {
        stepSections.forEach((stepSection, i) => {
          // ignore last section
          if (i === stepSections.length - 1) { return; }
          contentHeight += stepSection.scrollHeight;
        });
      });
      contentHeight -= 300;

      const onResize = (event) => {
        const mainBoundingRect = main.getBoundingClientRect();
        const progressBarContainer = document.querySelector(".progress-bar-container");
        progressBarContainer.style.left = `${mainBoundingRect.x}px`;
        progressBarContainer.style.width = `${mainBoundingRect.width}px`;
      };
      window.addEventListener("resize", onResize);
      onResize();

      window.addEventListener("scroll", function () {
        const scrollY = window.scrollY;
        if (scrollY >= startScrollY) {
          document.body.classList.add("in-content");

        } else {
          document.body.classList.remove("in-content");
        }

        // get current scroll position
        const scrollPosition = Math.max(0, scrollY - startScrollY);

        // get scroll percentage and set width of progress bar
        const scrollPercentage = (scrollPosition / contentHeight) * 100;
        progressBarEl.style.width = scrollPercentage + "%";
      });

  </script>

</body>
</html>